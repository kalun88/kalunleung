---
import FormattedDate from "@/components/FormattedDate.astro";
import type { Post } from "@/lib/interfaces";
import { getNotionColorToTailwindColor } from "@/lib/style-helpers";
import { areDifferentDates } from "@/utils/date";
import { getNavLink } from "@/lib/blog-helpers";
import Icon from "@/components/Icon.astro";
import { slugify } from "@/utils";

interface Props {
	post: Post;
}

const { post } = Astro.props;
//FIXME: figure out what this remarkPluginFrontmatter is
// const { remarkPluginFrontmatter } = await render();

const dateTimeOptions: Intl.DateTimeFormatOptions = {
	month: "long",
};
---

<h1 class="title mb-3 sm:mb-1" data-pagefind-filter=`collections:${post.Collection}`>
	{post.Title}
</h1>
<div class="flex max-w-full flex-wrap items-center gap-x-3 gap-y-2">
	<p class="font-mono text-sm text-gray-500 dark:text-gray-400">
	<FormattedDate date={post.Date} dateTimeOptions={dateTimeOptions} />
	</p>
</div>
{
	post.Tags && post.Tags.length > 0 && (
		<div class="mt-2 font-mono text-xs space-x-2">
			{post.Tags.map((tag, i) => (
				<a
					class="inline-block transition-opacity hover:opacity-80"
					aria-label={`View more blogs with the tag ${tag.name}`}
					href={getNavLink("/tags/" + slugify(tag.name) + "/")}
					data-pagefind-filter="tags"
				>
					[{tag.name}]
				</a>
			))}
		</div>
	)
}
